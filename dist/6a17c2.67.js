webpackJsonp([67],{233:function(e,s,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(s,"__esModule",{value:!0});var i=t(363),o=a(i),n=t(364),l=a(n),r=t(4),u=a(r),c=function(){function e($scope,Layer,$state,Core,RS){(0,o.default)(this,e),this.$scope=$scope,this.$state=$state,this.Layer=Layer,this.Core=Core,this.$RS=RS,$scope.register=this.register.bind(this),$scope.isSubmit=!1,$scope.formData={},$scope.isDisabled=!1,$scope.isStatusNoTow=!1,$scope.formData.user_memo=" ",this.$scope.rules={phone:{required:!0,message:"手机号码格式不正确!",reg:/^1[34578]\d{9}$/},email:{required:!0,message:"邮箱格式不正确!",reg:/^[A-Za-z0-9\u4e00-\u9fa5]+@[a-zA-Z0-9_-]+(\.[a-zA-Z0-9_-]+)+$/},qq:{required:!0,message:"qq或微信号格式不正确!",reg:/^\w{6,16}$/},user_memo:{required:!1,message:"字数只能50个以内",reg:/^.{1,50}$/}},this.init()}return(0,l.default)(e,[{key:"init",value:function(){this.checkAuditStatus()}},{key:"checkAuditStatus",value:function(){var e=this;this.$RS.getAuditStatus().then(function(s){var t=u.default.fromJson(s);if(200==t.code){var a=t.data;a.status&&(e.$scope.isDisabled=!0,e.$scope.isSubmit=!0,2==a.status&&(e.$scope.isStatusNoTow=!0),e.$scope.formData.phone=a.phone,e.$scope.formData.email=a.email,e.$scope.formData.qq=a.qq,e.$scope.formData.user_memo=a.user_memo,e.$scope.memo=a.memo,e.checkStatusTips(t.data.status))}else e.Layer.toast(t.msg)})}},{key:"checkStatusTips",value:function(e){switch(e){case"1":this.$scope.statusTips="审核中....";break;case"2":this.$scope.statusTips="请补充资料",this.$scope.isDisabled=!1;break;case"3":this.$scope.statusTips="申请已被系统拒绝...";break;case"4":this.$state.go("proxy");break;default:this.$state.go("tabs.my")}}},{key:"register",value:function(){var e=this,s=this.$scope.formData,t=this.$scope.rules;if(!e.Core.valiForm(s,t))return!1;this.$RS.submitAudit(s).then(function(s){200==s.code?e.checkAuditStatus():e.Layer.toast(s.msg)})}}]),e}();s.default=c},307:function(e,s){e.exports='<iheader> <back></back> <h1 class=title>申请代理</h1> <a class="icon pull-right white fs14" href=/question/8> 代理说明 </a> </iheader> <content class=apply> <form> <div class=form-group> <label class=iconfont>&#xe624;</label> <span class="line main-bg"></span> <input type=tel ng-model=formData.phone ng-disabled=isDisabled placeholder=请填写真实手机号，否则不予通过 /> </div> <div class=form-group> <label class=iconfont>&#xe606;</label> <span class="block line main-bg"></span> <input class="padding-left email form-input" type=text ng-model=formData.email ng-disabled=isDisabled placeholder=请填写真实邮箱 /> </div> <div class=form-group> <label class=iconfont>&#xe65c;</label> <span class="block line main-bg"></span> <input type=text ng-model=formData.qq ng-disabled=isDisabled placeholder=请填写qq或者微信 /> </div> <div class="form-text pd12"> <p class=fs16>请提交申请后耐心等待1~3个工作日!</p> <textarea id=textarea ng-disabled=isDisabled ng-model=formData.user_memo placeholder=申请理由,建议......></textarea> </div> <div class="form-submit pd12" ng-show=!isDisabled> <input class="btn-block btn-submit white fs16 main-bg" type=submit value=提交申请 ng-click=register() /> </div> <div ng-if=isDisabled> <p class=label> <label>申请状态:</label> <span class="status assertive warn-color">{{statusTips}}</span> </p> <p class=label> <label>原因:</label> <span class="status warn-color">{{memo}}</span> </p> <div class=pd12> <button class="btn-block btn-disabled fs16" ng-if=!isStatusNoTow ng-disabled=!isStatusNoTow>已提交</button> <button class="btn-block btn-submit fs16 main-bg" ng-if=isStatusNoTow ng-click=register()>提交</button> </div> </div> </form> </content> '},363:function(e,s,t){"use strict";s.__esModule=!0,s.default=function(e,s){if(!(e instanceof s))throw new TypeError("Cannot call a class as a function")}},364:function(e,s,t){"use strict";function a(e){return e&&e.__esModule?e:{default:e}}s.__esModule=!0;var i=t(365),o=a(i);s.default=function(){function e(e,s){for(var t=0;t<s.length;t++){var a=s[t];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,o.default)(e,a.key,a)}}return function(s,t,a){return t&&e(s.prototype,t),a&&e(s,a),s}}()},365:function(e,s,t){e.exports={default:t(366),__esModule:!0}},366:function(e,s,t){t(367);var a=t(11).Object;e.exports=function(e,s,t){return a.defineProperty(e,s,t)}},367:function(e,s,t){var a=t(15);a(a.S+a.F*!t(21),"Object",{defineProperty:t(20).f})}});