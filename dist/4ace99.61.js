webpackJsonp([61],{251:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var i=n(363),a=s(i),r=n(364),o=s(r),p=n(68),d=s(p),u=function(){function e($scope,RS,Layer,$state,Core,$stateParams){(0,a.default)(this,e),this.S=$scope,this.$stateParams=$stateParams,this.RS=RS,this.L=Layer,this.C=Core,this.$S=$state,$scope.rules={bank_name:{required:!0,reg:/^[\u4e00-\u9fa5]{2,16}$/,message:"姓名不正确!"},phone:{required:!0,reg:/^1[3,5,6,7,8]\d{9}$/,message:"手机号码格式不正确!"},bank_pwd:{required:!0,reg:/^\d{6}$/,message:"密码格式不正确!"},new_pwd:{required:!0,reg:/^\d{6}$/,message:"新密码格式不正确!"},r_new_pwd:{required:!0,reg:/^\d{6}$/,message:"与新密码不一致!"}},$scope.data={},$scope.checkType=$stateParams.type,this.S.modifyMoneyPwd=this.modifyMoneyPwd.bind(this),this.S.submitPwd=this.submitPwd.bind(this),this.getUserBalance()}return(0,o.default)(e,[{key:"getUserBalance",value:function(){this.S.title=1==this.S.checkType?"修改资金密码":"设置资金密码",1==this.S.checkType?this.S.form={bank_pwd:"",new_pwd:"",r_new_pwd:""}:2==this.S.checkType&&(this.S.form={bank_name:"",phone:"",bank_pwd:""})}},{key:"submitPwd",value:function(){var e=this;if(this.S.rules.r_new_pwd.reg=new RegExp(this.S.form.new_pwd,"i"),!this.C.valiForm(this.S.form,this.S.rules))return!1;var t={bank_pwd:this.S.form.bank_pwd&&(0,d.default)(this.S.form.bank_pwd),new_pwd:this.S.form.new_pwd&&(0,d.default)(this.S.form.new_pwd)};this.RS.changeBankPwd(t).then(function(t){200==t.code?e.L.toast("修改成功",.5,function(){e.$S.go("tabs.my")}):e.L.toast(t.msg)})}},{key:"modifyMoneyPwd",value:function(){var e=this;if(!this.C.valiForm(this.S.form,this.S.rules))return!1;this.S.form.bank_pwd=this.S.form.bank_pwd&&(0,d.default)(this.S.form.bank_pwd),this.RS.setDrawing(this.S.form).then(function(t){e.S.form.pwd="",200==t.code?t.bank_num||e.L.toast(t.msg,1,function(){e.$S.go("tabs.my")}):e.L.toast(t.msg)})}}]),e}();t.default=u},325:function(e,t){e.exports='<iheader> <back></back> <h1 class=title>{{title}}</h1> </iheader> <content class=modify-money-pwd> <form class="register-form fs14" ng-submit=submitPwd() ng-if="checkType == 1"> <div class="bg-white item-input-wrapper"> <span>旧密码</span> <input type=password name=pwd ng-model=form.bank_pwd placeholder=请输入旧密码 maxlength=6 ng-keyup=filterNum($event)> </div> <div class="bg-white item-input-wrapper mt-8"> <span class="">新密码</span> <input class="" type=password name=new_pwd ng-model=form.new_pwd placeholder=请输入新密码 maxlength=6 ng-keyup=filterNum($event)> </div> <div class="bg-white item-input-wrapper mt-8"> <span class="">确认新密码</span> <input type=password name=r_new_pwd ng-model=form.r_new_pwd placeholder=请再次确认密码 maxlength=6 ng-keyup=filterNum($event)> </div> <p class="m-t20 m-b20 text-center"> 密码必须为 <span class=main-color>6位数字</span>且符合0~9数字 </p> <div class=register-form-submit-btn> <button class="block text-center white-text radius5 main-bg fs14" type=submit> 确 认 </button> </div> </form> <form class="register-form fs14" ng-submit=modifyMoneyPwd() ng-if="checkType == 2"> <input type=password style=position:absolute;top:-999px /> <div class="item-input-wrapper bg-white"> <span>姓名</span> <input type=text name=bank_name ng-model=form.bank_name placeholder=请输入您的真实姓名> </div> <div class="item-input-wrapper mt-8 bg-white"> <span>手机号</span> <input type=text name=phone ng-model=form.phone placeholder=请输入您的手机号 /> </div> <div class="item-input-wrapper mt-8 bg-white"> <span>资金密码</span> <input type=password name=bank_pwd maxlength=6 ng-model=form.bank_pwd placeholder=请输入资金密码> </div> <p class="m-t20 m-b20 text-center fs12">为了您的账户安全，真实姓名需要与绑定银行卡一致</p> <div class=register-form-submit-btn> <button class="block text-center white-text radius5 main-bg fs14" type=submit> 确 定 </button> </div> </form> </content> '},363:function(e,t,n){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},364:function(e,t,n){"use strict";function s(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var i=n(365),a=s(i);t.default=function(){function e(e,t){for(var n=0;n<t.length;n++){var s=t[n];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,a.default)(e,s.key,s)}}return function(t,n,s){return n&&e(t.prototype,n),s&&e(t,s),t}}()},365:function(e,t,n){e.exports={default:n(366),__esModule:!0}},366:function(e,t,n){n(367);var s=n(11).Object;e.exports=function(e,t,n){return s.defineProperty(e,t,n)}},367:function(e,t,n){var s=n(15);s(s.S+s.F*!n(21),"Object",{defineProperty:n(20).f})}});