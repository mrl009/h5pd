webpackJsonp([44],{241:function(e,t,i){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}Object.defineProperty(t,"__esModule",{value:!0});var a=i(363),n=l(a),s=i(364),d=l(s),o=i(2),r=l(o),c=function(){function e($scope,Layer,Core,$state,RS){(0,n.default)(this,e),this.S=$scope,this.L=Layer,this.C=Core,this.$S=$state,this.RS=RS,this.init(),this.S.text="删除",this.S.items=[],this.S.data={isDelete:!1,favoriteIds:[],allSelected:!1},$scope.jumpToGame=this.jumpToGame.bind(this),$scope.prepareDelete=this.prepareDelete.bind(this),$scope.prepareSelected=this.prepareSelected.bind(this),$scope.favoriteDelete=this.favoriteDelete.bind(this)}return(0,d.default)(e,[{key:"init",value:function(){var e=this;this.RS.getFavorite().then(function(t){200==t.code&&(e.S.items=t.data)})}},{key:"jumpToGame",value:function(e){if(!(this.S.data.isDelete&&this.S.items.length>0)){var t=this.S.items[e];this.$S.go(t.type,{type:t.type,gid:t.id})}}},{key:"prepareDelete",value:function(){this.clearAll(),this.S.data.allSelected=!1,this.S.data.isDelete=!this.S.data.isDelete,this.S.text=this.S.data.isDelete?"取消":"删除"}},{key:"prepareSelected",value:function(e,t,i){if("add"==i)this.S.data.favoriteIds.push(t),(0,r.default)(".list-cell").eq(e).children("div").eq(1).children(".button").eq(0).addClass("hidden"),(0,r.default)(".list-cell").eq(e).children("div").eq(1).children(".button").eq(1).removeClass("hidden");else if("delete"==i){for(var l=0;l<this.S.data.favoriteIds.length;l++)if(this.S.data.favoriteIds[l]==t){this.S.data.favoriteIds.splice(l,1);break}(0,r.default)(".list-cell").eq(e).children("div").eq(1).children(".button").eq(0).removeClass("hidden"),(0,r.default)(".list-cell").eq(e).children("div").eq(1).children(".button").eq(1).addClass("hidden")}else if("all"==i)if(this.S.data.allSelected=!this.S.data.allSelected,this.S.data.allSelected)for(var a in this.S.items)this.S.data.favoriteIds.push(this.S.items[a].id),(0,r.default)(".list-cell").eq(a).children("div").eq(1).children(".button").eq(0).addClass("hidden"),(0,r.default)(".list-cell").eq(a).children("div").eq(1).children(".button").eq(1).removeClass("hidden");else{for(var n in this.S.items)(0,r.default)(".list-cell").eq(n).children("div").eq(1).children(".button").eq(0).removeClass("hidden"),(0,r.default)(".list-cell").eq(n).children("div").eq(1).children(".button").eq(1).addClass("hidden");this.S.data.favoriteIds=[]}}},{key:"favoriteDelete",value:function(){var e=this,t=this.S.data.favoriteIds.join(),i={gid:t,status:1};this.RS.postFavoriteSet(i).then(function(t){200==t.code?(e.L.toast("删除成功"),e.init(),e.clearAll()):e.L.toast(t.msg)})}},{key:"clearAll",value:function(){if(this.S.items)for(var e in this.S.items)(0,r.default)(".list-cell").eq(e).children("div").eq(1).children(".button").eq(0).removeClass("hidden"),(0,r.default)(".list-cell").eq(e).children("div").eq(1).children(".button").eq(1).addClass("hidden")}}]),e}();t.default=c},315:function(e,t,i){e.exports='<iheader> <back></back> <h1 class=title>我的收藏</h1> <a class="icon pull-right white fs14" ng-if="items && items.length" ng-click=prepareDelete()> {{text}} </a> </iheader> <content ng-if=items class=favorite> <div ng-repeat="item in items track by $index" class="row list-cell"> <div class="col col-90" ng-click=jumpToGame($index)> <img ng-src={{item.img}}> <div class=favorite-name>{{item.name}}</div> </div> <div class="right-icon col col-10"> <button class="button button-icon circle ion-ios-circle-outline" ng-show=data.isDelete ng-click="prepareSelected($index,item.id,\'add\')"></button> <button class="button button-icon icon iconfont icon-dui main-color ion-ios-checkmark hidden" ng-show=data.isDelete ng-click="prepareSelected($index,item.id,\'delete\')"></button> </div> </div> <div align-title=left class="favorite-footer-bar row" ng-if="data.isDelete && items"> <div class="buttons col col-50"> <button class="button favorite-footer-bar-left border-color main-color" ng-click="prepareSelected(this,\'\',\'all\')" ng-if=!data.allSelected>全选</button> <button class="button favorite-footer-bar-left border-color main-color" ng-click="prepareSelected(this,\'\',\'all\')" ng-if=data.allSelected>取消</button> </div> <div class="buttons col col-50"> <button class="button favorite-footer-bar-right main-w border-color" ng-click=favoriteDelete()>确认删除</button> </div> </div> </content> <content ng-if=!items> <div class=member-lack-favorite> <img src='+i(400)+"> <p class=p-grep>没有收藏</p> <p class=main-color>您可在购彩大厅进行收藏</p> </div> </content> "},363:function(e,t,i){"use strict";t.__esModule=!0,t.default=function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}},364:function(e,t,i){"use strict";function l(e){return e&&e.__esModule?e:{default:e}}t.__esModule=!0;var a=i(365),n=l(a);t.default=function(){function e(e,t){for(var i=0;i<t.length;i++){var l=t[i];l.enumerable=l.enumerable||!1,l.configurable=!0,"value"in l&&(l.writable=!0),(0,n.default)(e,l.key,l)}}return function(t,i,l){return i&&e(t.prototype,i),l&&e(t,l),t}}()},365:function(e,t,i){e.exports={default:i(366),__esModule:!0}},366:function(e,t,i){i(367);var l=i(11).Object;e.exports=function(e,t,i){return l.defineProperty(e,t,i)}},367:function(e,t,i){var l=i(15);l(l.S+l.F*!i(21),"Object",{defineProperty:i(20).f})},400:function(e,t,i){e.exports=i.p+"img/member-lack-box.png"}});