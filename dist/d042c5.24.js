webpackJsonp([24],{257:function(s,t,e){"use strict";function i(s){return s&&s.__esModule?s:{default:s}}Object.defineProperty(t,"__esModule",{value:!0});var a=e(363),n=i(a),o=e(364),c=i(o),l=e(4),r=i(l),p=function(){function s($scope,Core,$timeout,Layer,RS){(0,n.default)(this,s),$scope.orderType=[{id:0,title:"全部订单"},{id:1,title:"已中奖"},{id:3,title:"已撤单"},{id:4,title:"待开奖"}],this.Core=Core,this.$scope=$scope,this.$timeout=$timeout,this.l=Layer,this.rs=RS,$scope.showList=!0,this.initLogin(),$scope.chooseTab=this.chooseTab.bind(this),$scope.refresh=this.refresh.bind(this),$scope.loadMore=this.loadMore.bind(this),$scope.orderDetail=this.orderDetail.bind(this),$scope.goBack=this.goBack.bind(this),$scope.orderCancel=this.orderCancel.bind(this)}return(0,c.default)(s,[{key:"initLogin",value:function(){!this.Core.getToken()?this.initUnlogin():this.initPage()}},{key:"initPage",value:function(){this.$scope.isLogin=!0,this.initData()}},{key:"initData",value:function(){this.$scope.orderItems=[],this.$scope.page=1,this.$scope.isEmpty=!1,this.reqData(0)}},{key:"reqData",value:function(s,t){var e=this;this.$scope.type=s;var i=t?{type:s,page:t}:{type:s};return this.Core.get("user/bet_record/get_list",i,function(s){var t=r.default.fromJson(s);200==t.code&&(t.data.rows&&t.data.rows.length||0!=e.$scope.orderItems.length?(e.$scope.isEmpty=!1,e.$scope.orderItems&&e.$scope.orderItems.length||(e.$scope.orderItems=t.data.rows)):e.$scope.isEmpty=!0)},!1)}},{key:"refresh",value:function(){var s=this,t=this.$scope.type,e=void 0===t?0:t;return this.reqData(e).then(function(t){t.data&&(s.$scope.orderItems=t.data.rows,s.$scope.page=1)})}},{key:"loadMore",value:function(){var s=this,t=this.$scope,e=t.type,i=void 0===e?0:e,a=t.page,n=void 0===a?1:a;return this.reqData(i,Number(n)+1).then(function(t){if(200==t.code){var e=t.data.rows;e&&e.length>0&&(s.$scope.page=n+1,s.$scope.orderItems=s.$scope.orderItems.concat(e))}return t})}},{key:"initUnlogin",value:function(){this.$scope.isLogin=!1}},{key:"chooseTab",value:function(s){var t=this;this.$scope.page=0,this.reqData(s).then(function(s){s.data.rows&&s.data.rows.length?(t.$scope.isEmpty=!1,t.$scope.orderItems=s.data.rows):t.$scope.isEmpty=!0})}},{key:"orderDetail",value:function(s,t,e,i,a,n,o,c,l,r,p,u,d,m){this.$scope.showList=!1,this.$scope.title="投注详情";var h="";1==n?h="已中奖":3==n?h="已撤单":4==n?h="待开奖":5==n&&(h="未中奖"),this.$scope.detail={order_num:s,issue:t,game:e,tname:i,open_resu_num:a,status:n,names:o,price_sum:c,bet_time:l,statusName:h,rebate:r,rate:p,win_price:u,win_counts:d,is_open:m}}},{key:"goBack",value:function(){this.$scope.showList=!0}},{key:"orderCancel",value:function(s){var t=this;this.l.confirm({title:"撤销订单",msg:"确定撤销该订单？",yesFn:function(){t.rs.cancelOrder(s).then(function(s){200==s.code?(t.$scope.detail.is_open=0,t.$scope.detail.statusName="已撤单",t.l.toast("撤销成功",1)):t.l.toast(s.msg,1)})}})}}]),s}();t.default=p},331:function(s,t,e){s.exports="<iheader ng-if=showList> <back></back> <h1 class=title>投注记录</h1> </iheader> <content hastabs=true ng-if=showList> <div class=order-wrap ng-if=!isLogin> <div class=bet-unlogin> <img src="+e(472)+'> <p>登录才能看见注单哟</p> <a href=/login/ class="login-button main-w">登录</a> <a href=/register class="main-color border-color">10秒注册</a> </div> </div> <div class=order-wrap ng-if=isLogin> <tab-items> <tab-item title={{ot.title}} ng-repeat="ot in orderType" ng-click=chooseTab(ot.id)></tab-item> </tab-items> <div class=list-empty ng-if=isEmpty> <img src='+e(471)+'> <p>暂无该投注记录，不要让大奖溜走~</p> <a class="bet-button main-w" href=/tabs/buy/ > 立即投注 </a> </div> <div class=list ng-if=!isEmpty pull-refresh refresh=refresh() load-more=loadMore()> <div class=item ng-repeat="item in orderItems track by $index" ng-click="orderDetail(item.order_num,item.issue,item.game,item.tname,item.open_resu_num,item.status,\n                item.names,item.price_sum,item.bet_time,item.rebate,item.rate,item.win_price,item.win_counts,item.is_open)"> <div class=row> <div class="col col-40"> <span ng-if="item.status!=3" class="game fs16">{{item.game}}</span> <span ng-if="item.status!=3" class="tname fs12">{{item.tname}}</span> <span ng-if="item.status==3" class="game-disable fs16">{{item.game}}</span> <span ng-if="item.status==3" class="tname-disable fs12">{{item.tname}}</span> </div> <div class="col col-30"> <span ng-if="item.status!=3" class="issue fs12">{{item.issue}}期</span> <span ng-if="item.status==3" class="issue-disable fs12 issue">{{item.issue}}期</span> </div> <div class="col col-30 wins-content"> <div class=zt-list> <span class=zt-item ng-if="item.status==1"> <img class=wins_img src='+e(473)+'> </span> <span class=zt-item> <span class="wins-price fs12" ng-if="item.status!=3">-{{item.price_sum}}元</span> </span> <span class=zt-item ng-if="item.status==1"> <span class="wins-sum fs12">{{item.win_price}}元</span> </span> <span class=zt-item ng-if="item.status==4"> <span class="wins-wait-open mag-top fr">待开奖</span> </span> <span class=zt-item> <span class="wins-price-disable no-wrap fs14" ng-if="item.status==3">-{{item.price_sum}}元</span> </span> <span class="zt-item mag-top no-wrap" ng-if="item.status==3"> <span class="wins-wait-open-disable fs12">已撤单</span> </span> <span class="zt-item mag-top" ng-if="item.status!=1 && item.status!=3 && item.status!=4"> <span class="wins-wait-open-disable fs12">未中奖</span> </span> </div> </div> </div> </div> </div> </div> </content> <iheader ng-if=!showList> <back ng-click=goBack()></back> <h1 class=title>注单详情</h1> </iheader> <content class=bet-detail-list ng-if="!showList && isLogin" hastabs=true> <div class=order_num><span>注单号{{detail.order_num}}</span></div> <div class=list-cell> <ul class=list> <li class=item> <span>期号</span><span>{{detail.issue}}</span> </li> <li class=item> <span>彩种</span><span>{{detail.game}}</span> </li> <li class=item> <span>玩法</span><span>{{detail.tname}}</span> </li> <li class="item row"> <span class="col col-25 col-center">投注号码</span><span class="col col-75">{{detail.names}}</span> </li> <li class=item> <span>开奖状态</span><span>{{detail.statusName}}</span> </li> <li class=item ng-if="detail.status!=4 && detail.status != 3"> <span>开奖号码</span><span>{{detail.open_resu_num}}</span> </li> </ul> </div> <div class=list-cell> <ul class=list> <li class=item> <span>投注金额</span><span>{{detail.price_sum}}元</span> </li> <li class=item ng-if="detail.status==1"> <span>中奖注数</span><span>{{detail.win_counts}}</span> </li> <li class=item ng-if="detail.status==1"> <span>投注返点</span><span>{{detail.rebate}}</span> </li> <li class=item ng-if="detail.status==1"> <span>投注赔率</span><span>{{detail.rate}}</span> </li> <li class=item ng-if="detail.status==1"> <span>中奖金额</span><span>{{detail.win_price}}</span> </li> <li class=item ng-if="detail.status==1"> <span>实际输赢</span><span>{{((detail.win_price)-(detail.price_sum)).toFixed(3)}}</span> </li> <li class=item> <span>投注时间</span><span>{{detail.bet_time}}</span> </li> </ul> </div> <div class=cancel-button ng-if=detail.is_open ng-click=orderCancel(detail.order_num)>撤销订单</div> </content> '},363:function(s,t,e){"use strict";t.__esModule=!0,t.default=function(s,t){if(!(s instanceof t))throw new TypeError("Cannot call a class as a function")}},364:function(s,t,e){"use strict";function i(s){return s&&s.__esModule?s:{default:s}}t.__esModule=!0;var a=e(365),n=i(a);t.default=function(){function s(s,t){for(var e=0;e<t.length;e++){var i=t[e];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),(0,n.default)(s,i.key,i)}}return function(t,e,i){return e&&s(t.prototype,e),i&&s(t,i),t}}()},365:function(s,t,e){s.exports={default:e(366),__esModule:!0}},366:function(s,t,e){e(367);var i=e(11).Object;s.exports=function(s,t,e){return i.defineProperty(s,t,e)}},367:function(s,t,e){var i=e(15);i(i.S+i.F*!e(21),"Object",{defineProperty:e(20).f})},471:function(s,t,e){s.exports=e.p+"img/icon-empty.png"},472:function(s,t,e){s.exports=e.p+"img/icon-unlogin.png"},473:function(s,t){s.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACUAAAAnCAYAAACIVoEIAAAFqklEQVR42s2YeUwUVxzHh8qxCMgh7M68mVkUvEApNZg2Qu0h1SJetYjWHqh4tf1DG5totImlKE2jto1pm6q90oqttWpMbdJKUhVRMYizt7pctgJBKKIuaCtaf/3N43XDUvaAous3+YSZt8vMd3+/3/u9ecOhAigPmB5iBDxIBgMZgxjMYN90SpJCzXohzSiTxUaJbDBIZLNBFooUiaw0EDKlMj5W6GukQhAN+xvUF3OVWm2iRRY2mWViM8rinfN6CezduIBYZBGMkthi0os/mCQhy6cfzYwMQSKQwcxcoKd0mnS6MJNECvCGrerNrYhJvbkb8HvMICKJPymiNtWrK2ZIhwxVDTJzQb1FrFLWJppkUmr/Nwq+Q42z6LUZRH6hL2kUkWEIYebCkeDuxhSeTzbLYjVe2PWGw/TQ8sXnUDVntk/mLIhVFv82SMIqb8ZCkRQkmZnTIhHMGKcWqxFr53wPQ+axSXD92FFo2rIZbhgNYJv4WNdnw+M9GjMjNqxDNPaSN2MC8gSShoxEeCQiF40pkrDP3sPQucczqJG6RXn0/ELmZOiorKTj7adPg33asx6NWbtS2XpWEJI8mQpAxiMzkHQkCYn6hdfm2fQ9LooXvH7kV+hQzoJ5zCjneMPbG+BuZyfUvvKy91SyGlNkcrCAlol7hTBTc5FJCcHBKWckYjrHotST2oV5cK2kBIzxMj2+abVC847t0PLZTp+L34JpVCT+Sc6LtMgyJGddZOQab7Os4Z0CTFc5tJ88AZaUsXSsdXcxXFq7xudoYcMt5nzQI8jKYl3sUTbbegcLuvXb3fBXXS3Ur1/nMv5nTQ3Yp0/zaTbiJGqqJCTWm6kA7AnPHya6qzY3pizjxoKjrAwaNxZSE45jx6Bm/jwwJQyDK9/vgT+++lJNK5sU6WAakehxNp4VdZM5b5rKcWEHdNoSe++maITqFi90MXnDoEB7+SnXqCEtO3dA1cwZbk2pNauIpJDzRTkaTcLPvK6W9SevXDt8GGpefIEem5NGw8VlS+lxY2EB1OUvgrol+VA1e2avKcS6OsL5qiVhYVmlhO+w+WJML7k0VowQjVx17lxofLcIHKWlGNHkXtOHjdTG9UWrIyPWVkjEt/UO68hx/DhYUlO6UpMxEW63tUHrrm/ojLRnZ4F9xnQwJ49xLXaJnOT6qODC6MjdahM1ues5IxOdhV2dMwccJ8po0bcW76JNFcdVU/T8jsMBVc/Ncqkpo8i/z/VD5JPYoWfctYiaBfPVZca5MP+++g24sncvWB4eB41Fm+j5xeXL4OJrK+iMbdq6pduSo6aPz+b6o/jAwPQ92rhGd8Zsj06AtgP7aZdv3v4p7V+3Ghpo5OrXrcW10ghXDx2Cpg8/gM7mZuxj2WDu+t8rihxLuP5qkkazqETgb5zzUPjWCWlQNWsmXXJu1ddD3dIlznpTxy88k6l+h46pM9uA6x/3PzVoXmjoe+WScNei91z02ApoL+uoqAB71tTefwCiEDKLGwBFr4qM2GeRWeG74fK2bTR1mFb6mGNNG+/yOY2SSMps9LltYDRyc0yMu8KnVM/Lhcsff0SPsQ2oqXPpTcjNCkLSuYEUrqBPfx0Xe8mtMRzH4v7Pk6iJRUkR+Te5e6HUoKD8Q7yu3V3h//b6q2Adn+oSIVbcW+AeboCDpms0RSeJcNvqpfBV4xa91Imb1beooXus6OXh4XtYJFxTxcycR9C0Qjel91GjNkZHnXDukBlo6hZy2ihJy4/GxYVz91thHJe5NSa6/EdeV36Q1+7br4tb/11c9KRcuoXznwKQHGQF8hQyAolh+8pB/nyzE47kIwvYVm04EoWE0B23HyUhecgUtuvWIYOdL0/8qHHIbLbj1iORSLC/oxXADGUgichQv9cWUwiSioxGtEiY8zWTnxXe/YWJyysmPyuGmRqChLhL4T9Q8wJD31OiTQAAAABJRU5ErkJggg=="}});