webpackJsonp([49],{283:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(127),a=s(n),l=i(363),c=s(l),r=i(364),p=s(r),o=i(2),d=s(o),u=function(){function t($scope,Core,Layer,$state,RS,$timeout,$rootScope,Lottery,Util){(0,c.default)(this,t),(0,a.default)(this,{C:Core,s:$scope,L:Layer,$state:$state,RS:RS,$r:$rootScope,ly:Lottery,$tm:$timeout,u:Util}),this.s.favorObj={},$scope.syTimeCc={},this.s.playName=$rootScope.GF,this.s.playSn="gc",this.s.allauth=!1;var e=$rootScope.lottery_auth?$rootScope.lottery_auth:"1,2";e=e.split(","),d.default.inArray("1",e)>-1&&d.default.inArray("2",e)>-1?this.s.allauth=!0:d.default.inArray("1",e)>-1?this.s.playSn="gc":d.default.inArray("2",e)>-1&&(this.s.playSn="sc"),this.showType(this.s.playSn),this.destroyCds(),$scope.showType=this.showType.bind(this),this.s.favorite=this.favorite.bind(this),this.s.goUrl=this.goUrl.bind(this),this.s.hdDate=this.hdDate.bind(this)}return(0,p.default)(t,[{key:"initData",value:function(){var t=this;return this.RS.getTypeList().then(function(e){return t.initLottery(e)})}},{key:"showType",value:function(t){var e=this;return this.s.playSn="gc"==t?"sc":"gc",this.s.playName="gc"==t?this.$r.GF:this.$r.BY,this.RS.getTypeList({ctg:t}).then(function(i){return e.initLottery(i,{ctg:t})})}},{key:"initLottery",value:function(t,e){var i=this,s=this,n=function(t,e){t.push({cptype:e.cptype,gid:e.gid,img:e.img,name:e.name,number:e.number,kithe:e.kithe,kithe_time_second:e.kithe_time_second,up_close_time:e.up_close_time,kithe_time_stamp:e.kithe_time_stamp,favorite:e.favorite,tmp:e.tmp})};return this.RS.getGameList(e).then(function(e){if(200==t.code){var i=[],a=-1;d.default.each(t.data,function(l,c){if(null!==c){var r=[];d.default.each(e.data,function(t,e){s.s.favorObj[e.gid]=e.favorite,"hot"==c.type&&1==e.hot?n(r,e):c.type==e.cptype&&n(r,e)}),r.length>0&&(a+=1,i[a]=t.data[l],i[a].items=r)}}),s.s.lotterys=i}}).then(function(){i.initCds()})}},{key:"favorite",value:function(t){var e=this,i=this.s.favorObj[t],s=this.C.getToken();if(!s)return this.L.toast("请先登录"),!1;var n={token:s,gid:t,status:i};this.RS.setFavorite(n,"buhuancun").then(function(s){200==s.code?(e.L.toast(1==i?"取消成功":"收藏成功",1),e.s.favorObj[t]=1==i?0:1):e.L.toast(s.msg)})}},{key:"goUrl",value:function(t,e){this.$state.go(t,{type:e})}},{key:"initCds",value:function(){var t=this;this.s.$watch("slideTabsId",function(e){if(void 0!==e){var i=[];i=t.s.lotterys[e].items,i.forEach(function(e){t.ly.getKithe(e.gid,t.s,!1)})}})}},{key:"destroyCds",value:function(){var t=this;this.s.$on("$destroy",function(){t.ly.clearCds()})}},{key:"hdDate",value:function(t,e){return this.u.hdDate(t,e)}}]),t}();e.default=u},356:function(t,e){t.exports='<iheader> <a href=# class="icon pull-left fs14 white" ng-if=allauth ng-click=showType(playSn)>{{playName}}</a> <h1 class=title>购彩大厅</h1> <a href=/allLottery/{{playSn}} class="icon pull-right fs14 white">全部彩种</a> </iheader> <content class="buy buy-wrap" hastabs=true> <slide-tabs> <slide-tab ng-repeat="lottery in lotterys" bar-title={{lottery.name}} bar-img={{lottery.img}} type={{lottery.type}}> <div class=item-wrap> <div ng-repeat="item in lottery.items" class=buy-item> <a href=/{{item.tmp}}/{{item.tmp}}/{{item.gid}}> <div class="item-link row iconfont"> <lazy-img class=item-image url={{item.img}} wrap=slide-tab></lazy-img> <span class="item-title fs16">{{item.name}}</span> </div> <div class="lottery row {{item.tmp}}-item" ng-if="syTimeCc[item.gid]!=\'未开盘\'"> <div class="col-50 right-line"> <div class="text-center lottery-title fs14" ng-click=openLottery()> 近期开奖 </div> <ul class="list-inline text-center pd-ball" ng-style="{\'padding\': kithe[item.gid].number.length>= 10? \'0 1.5rem\':kithe[item.gid].number.length>= 8? \'0 2rem\': \'\'}" ng-class="{\'open-pk10\': type==\'pk10\'}" kithe={{kithe[item.gid]}}> <li ng-repeat="num in kithe[item.gid].number track by $index"> <p class="white circle20 main-w fs12 text-center kj-ball" ng-if="item.cptype != \'pk10\' && item.cptype != \'s_pk10\' &&\n                                           item.cptype != \'lhc\' && item.cptype != \'s_lhc\' &&\n                                           item.cptype != \'pcdd\' && item.cptype != \'s_pcdd\' &&\n                                           item.cptype != \'k3\' && item.cptype != \'s_k3\'"> {{num}} </p> <span class="open-win-ball-cell main-w" ng-if="(item.cptype == \'pcdd\' || item.cptype == \'s_pcdd\') && $index !== 3"> {{num}} </span> <span class=open-win-ball-cell code={{num}} ng-if="(item.cptype == \'pcdd\' || item.cptype == \'s_pcdd\') && $index === 3"> {{num}} </span> <span class="fs14 text-center bold" ng-if="($index == 0 || $index == 1) && (item.cptype == \'pcdd\' || item.cptype == \'s_pcdd\')">+</span> <span class="fs14 text-center bold" ng-if="$index == 2 && (item.cptype == \'pcdd\' || item.cptype == \'s_pcdd\')">=</span> <p class="white circle20 open-win-ball-cell fs12 text-center kj-ball" codepk={{num}} ng-if="item.cptype == \'pk10\' || item.cptype == \'s_pk10\'"> {{num}} </p> <p class="white circle20 open-win-ball-cell fs12 text-center kj-ball" code={{num}} ng-if="item.cptype == \'lhc\' || item.cptype == \'s_lhc\'"> {{num}} </p> <p ng-if="item.cptype == \'k3\' || item.cptype == \'s_k3\'" class="{{[\'k3-1\', \'k3-2\', \'k3-3\', \'k3-4\', \'k3-5\',\'k3-6\'][num-1]}}"></p> </li> </ul> </div> <div class=col-50> <div class="text-center lottery-title fs14"> 距{{kithe[item.gid].kithe}}期截止 </div> <ul class="list-inline text-center fs22 white time-block" ng-style="{\'margin-top\': kithe[item.gid].number.length >= 8 ? \'0.5rem\':\'\'}"> <li class=bg-black>{{hdDate(syTimeCc[item.gid], 0)}}</li> <li class="bg-black mg-l5 mg-r5">{{hdDate(syTimeCc[item.gid], 1)}}</li> <li class=bg-black>{{hdDate(syTimeCc[item.gid], 2)}}</li> </ul> </div> </div> <div class="lottery row {{item.tmp}}-item" ng-if="syTimeCc[item.gid]==\'未开盘\'"> <div class="col-50 right-line"> <div kithe={{kithe[item.gid]}} class="text-center lottery-title fs14" ng-click=openLottery()> 近期开奖 </div> <ul class="list-inline text-center pd-ball" ng-class="{\'open-pk10\': type==\'pk10\'}" kithe={{kithe[item.gid]}}> <li ng-repeat="num in kithe[item.gid].number track by $index"> <p class="white circle20 main-w fs12 text-center kj-ball">{{num}}</p> </li> </ul> </div> <div class=col-50> <div class="text-center lottery-title fs14"> 距{{kithe[item.gid].kithe}}期截止 </div> <ul class="list-inline text-center fs22 white time-block"> <li class=bg-black>未</li> <li class="bg-black mg-l5 mg-r5">开</li> <li class=bg-black>盘</li> </ul> </div> </div> </a> <div class="row content-tabs"> <a class=col ng-href=/trend/{{item.gid}}/{{item.tmp}}> <span class=icon-trend></span> <span class="btn-label fs14">号码走势</span> <span class=divider>|</span> </a> <a class=col ng-href=/rule/{{item.tmp}}> <div class=icon-rule></div> <span class="btn-label fs14">玩法规则</span> <span class=divider>|</span> </a> <a class=col ng-click="favorite(item.gid, item.favorite)"> <span class=icon-favor ng-class="{active: favorObj[item.gid] == 1}" n={{favorObj[item.gid]}}></span> <span class="btn-label fs14">加入收藏</span> </a> </div> </div> </div> </slide-tab> </slide-tabs> </content> '},363:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},364:function(t,e,i){"use strict";function s(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=i(365),a=s(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var s=e[i];s.enumerable=s.enumerable||!1,s.configurable=!0,"value"in s&&(s.writable=!0),(0,a.default)(t,s.key,s)}}return function(e,i,s){return i&&t(e.prototype,i),s&&t(e,s),e}}()},365:function(t,e,i){t.exports={default:i(366),__esModule:!0}},366:function(t,e,i){i(367);var s=i(11).Object;t.exports=function(t,e,i){return s.defineProperty(t,e,i)}},367:function(t,e,i){var s=i(15);s(s.S+s.F*!i(21),"Object",{defineProperty:i(20).f})}});