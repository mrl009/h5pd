webpackJsonp([16],{270:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}Object.defineProperty(e,"__esModule",{value:!0});var n=i(427),s=a(n),r=i(14),l=a(r),o=i(127),c=a(o),d=i(363),h=a(d),u=i(364),f=a(u),g=i(4),m=a(g),v=i(2),p=a(v);i(454);var b=function(){function t($scope,DB,$stateParams,Core,Layer,RS,$timeout,$state){(0,h.default)(this,t),this.S=$scope,this.C=Core,this.db=DB,this.l=Layer,this.RS=RS,this.$tm=$timeout,this.$st=$state,$scope.senior={period:10,multiple:5,number:1,fnumber:1},$scope.toggleID=0,$scope=(0,c.default)($scope,{gid:$stateParams.gid,total:1*$stateParams.total.replace("-","."),showAdvanced:!1,sum_total:0,cache:[],dataList:[],initDataList:[]}),$scope.betSubmit=this.betSubmit.bind(this),$scope.switch=this.switch.bind(this),$scope.changeType=this.changeType.bind(this),$scope.increment=this.increment.bind(this),$scope.filter=this.filter.bind(this),this.init(),this.initData()}return(0,f.default)(t,[{key:"createDataList",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.S.senior,e=[],i=1,a=0;a<t.period;a++){var n=t.multiple;a%parseInt(t.number)==0&&0!==a&&(i*=t.fnumber),n=n*i*this.S.total>2048e4?1:n*i,e[a]=(0,c.default)({multiple:n},this.S.initDataList[a])}return e}},{key:"getTotal",value:function(){var t=this;this.S.sum_total=this.S.dataList.reduce(function(e,i){return Math.round(1e3*(e+i.multiple*t.S.total))/1e3},0)}},{key:"initData",value:function(){var t=this;this.db.getData("carts",function(e){t.S.cache=m.default.fromJson(e)})}},{key:"betSubmit",value:function(){var t=this,e=[];this.S.dataList.forEach(function(t){e.push('"'+t.kithe+'":"'+t.multiple+'"')});var i="{"+e.join()+"}",a=(0,l.default)(this.S.cache),n={bets:a,issues:i};this.RS.zhBet(this.S.gid,this.S.toggleID,n).then(function(e){200==e.code?(t.l.toast("下注成功"),t.db.deleteOneData("carts",function(){t.$tm(function(){history.go(-2)},1e3)})):401==e.code?(t.l.toast("没有登陆"),t.$st.go("login")):t.l.toast(e.msg)})}},{key:"increment",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"+";"+"===e?t.multiple++:"-"===e&&(t.multiple>1?t.multiple--:t.multiple=1),this.getTotal()}},{key:"filter",value:function(t){var e=t.target.value.replace(/\D/g,"");t.target.value=e<1||(0,s.default)(e)?"":e,this.getTotal()}},{key:"dataChange",value:function(){var t=this,e=null;this.S.$watch("senior",function(i,a){t.$tm.cancel(e),e=t.$tm(function(){var e=i.period,n=a.period;0!=e&&(e>t.S.initDataList.length&&(t.l.toast("以超过最大期数"+t.S.initDataList.length+"!"),i.period=t.S.initDataList.length),e<n?t.S.dataList.length=e:t.S.dataList=t.createDataList(i),t.getTotal())},250)},!0)}},{key:"init",value:function(){var t=this;this.RS.getZhop(this.S.gid).then(function(e){200==e.code&&e.data.length&&(t.S.initDataList=e.data,t.dataChange(),t.getTotal())})}},{key:"switch",value:function(t){var e=(0,p.default)(t.target).parent(".sliding");e.toggleClass("active"),e.hasClass("active")?this.S.toggleID=1:this.S.toggleID=0}},{key:"changeType",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:1;1===t?((0,p.default)(".tab-indicator").css("left",0),this.S.showAdvanced=!1,this.S.senior.number=1,this.S.senior.fnumber=1):2===t&&((0,p.default)(".tab-indicator").css("left","50%"),this.S.showAdvanced=!0,this.S.senior.number=2,this.S.senior.fnumber=2)}}]),t}();e.default=b},344:function(t,e){t.exports=' <iheader> <back></back> <h1 class=title>智能追号</h1> </iheader> <content hastabs=true class=smartTraching> <div class="slidingTabs bg-white"> <ul class="fs14 light-gray"> <li class="slider-slide-tab text-center" ng-class="{\'main-color\': showAdvanced == false}" ng-click=changeType()>普通追号</li> <li class="slider-slide-tab text-center" ng-class="{\'main-color\': showAdvanced == true}" ng-click=changeType(2)>高级追号</li> </ul> <div class=tab-indicator-wrapper> <div class="tab-indicator main-bg" ng-class="{\'active\': showAdvanced == true}"></div> </div> </div> <tab-slide> <div class="smart-config bg-white"> <div class="row fs14"> <div class="col col-50 text-center"> 追号 <input class="row-inp text-center" type=tel ng-model=senior.period maxlength=3 ng-keyup=filter($event)> 期 </div> <div class="col col-50 text-center"> 起始 <input class="row-inp text-center" type=tel ng-model=senior.multiple maxlength=3 ng-keyup=filter($event)> 倍 </div> </div> <div class="row fs14" ng-if=showAdvanced> <div class="col col-50 text-center"> 每隔 <input class="row-inp text-center" type=tel ng-model=senior.number maxlength=3 ng-keyup=filter($event)> 期 </div> <div class="col col-50 text-center"> 乘以 <input class="row-inp text-center" type=tel ng-model=senior.fnumber maxlength=3 ng-keyup=filter($event)> 倍 </div> </div> </div> </tab-slide> <div class="smart-tab-bar fs14 row"> <div class="col col-25 text-center">期数</div> <div class="col col-30 text-center">倍数</div> <div class="col col-20 text-center">金额</div> <div class="col col-25 text-center">预计开奖时间</div> </div> <ul class="smart-list fs12"> <li class=row ng-repeat="item in dataList track by $index"> <div class="col col-25">{{item.kithe}}</div> <div class="col col-30 flex-middle flex-center"> <div class="m-r5 iconfont circle" ng-click="increment(item, \'-\')">&#xe657;</div> <input type=tel class="multiple text-center" maxlength=3 minlength=1 ng-keyup=filter($event) ng-model=item.multiple> <div class="iconfont circle m-l5" ng-click="increment(item, \'+\')">&#xe60b;</div> </div> <div class="col col-20 main-color"> {{(item.multiple * total).toFixed(3)}} </div> <div class="col col-25"> {{item.open_time.split(\' \')[0]}}<br> {{item.open_time.split(\' \')[1]}} </div> </li> </ul> </content> <ifooter class=smart-foot> <div class=footer-left> <div class=sliding> <div class=circle ng-click=switch($event)> </div> </div> </div> <div class="footMain fs14 m-l10"> <div class=""> 中奖后停止追号 </div> <div class=graylight> <span class=assertive>{{ senior.period }}</span>期 <span class=assertive>{{ sum_total }}</span>元 </div> </div> <div class=foot-right> <button class="btn main-bg text-center white radius5 fr" ng-click=betSubmit() ng-disabled="suData.sumbet < 1">确认下注</button> </div> </ifooter> '},363:function(t,e,i){"use strict";e.__esModule=!0,e.default=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}},364:function(t,e,i){"use strict";function a(t){return t&&t.__esModule?t:{default:t}}e.__esModule=!0;var n=i(365),s=a(n);e.default=function(){function t(t,e){for(var i=0;i<e.length;i++){var a=e[i];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),(0,s.default)(t,a.key,a)}}return function(e,i,a){return i&&t(e.prototype,i),a&&t(e,a),e}}()},365:function(t,e,i){t.exports={default:i(366),__esModule:!0}},366:function(t,e,i){i(367);var a=i(11).Object;t.exports=function(t,e,i){return a.defineProperty(t,e,i)}},367:function(t,e,i){var a=i(15);a(a.S+a.F*!i(21),"Object",{defineProperty:i(20).f})},419:function(t,e,i){e=t.exports=i(224)(),e.push([t.i,".smartTraching .slidingTabs ul{overflow:hidden}.smartTraching .slidingTabs .slider-slide-tab{float:left;width:50%;height:2.5rem;line-height:2.5rem}.smartTraching .tab-indicator-wrapper{width:100%;height:2px}.smartTraching .tab-indicator-wrapper .tab-indicator{height:100%;width:20%;-webkit-transition:all .2s linear;transition:all .2s linear;margin-left:15%}.smartTraching .tab-indicator-wrapper .tab-indicator.active{margin-left:65%}.smartTraching .row-inp{width:4rem;border-radius:.2rem;border:1px solid #d91d36;vertical-align:middle;height:1.5rem;margin:0 .3rem}.smartTraching .smart-config{margin-top:2px}.smartTraching .smart-config .col-50{height:2.125rem;line-height:1.825rem}.smartTraching .smart-tab-bar{line-height:2rem}.smartTraching .smart-list .multiple{width:2rem;border-radius:.1rem;background:#eee;line-height:1rem;height:1rem}.smartTraching .smart-list .circle{border-radius:50%;border:1px solid #f44336;width:1.2rem;height:1.2rem;line-height:1.2rem;text-align:center}.smartTraching .smart-list .col{height:2.1rem;display:-webkit-box;display:-ms-flexbox;display:flex;-webkit-box-align:center;-ms-flex-align:center;align-items:center;-webkit-box-pack:center;-ms-flex-pack:center;justify-content:center}.smartTraching .smart-list .row:nth-child(odd){background:#fff}.smartTraching footer{height:2.55rem}.smart-foot{height:2.5rem}.smart-foot .footer-left{width:3.2rem;height:100%;padding:.4rem}.smart-foot .footer-left .sliding{border-radius:2.25rem;border:1px solid #ddd;width:100%;height:100%;position:relative}.smart-foot .footer-left .sliding.active{background:#f44336}.smart-foot .footer-left .sliding.active .circle{left:.75rem}.smart-foot .footer-left .circle{position:absolute;width:1.45rem;height:1.45rem;top:50%;left:0;background:#fff;-webkit-transition:left .3s;transition:left .3s;-webkit-transform:translate3d(0,-50%,0);transform:translate3d(0,-50%,0);border-radius:50%;border:1px solid #ddd;-webkit-box-shadow:0 2px 7px rgba(0,0,0,.35),0 1px 1px rgba(0,0,0,.15);box-shadow:0 2px 7px rgba(0,0,0,.35),0 1px 1px rgba(0,0,0,.15)}.smart-foot .footMain{color:#101010;padding-top:.3rem}.smart-foot .foot-right{padding:.3rem;height:100%;position:absolute;right:0;width:4rem}.smart-foot .foot-right .btn{width:4rem;height:100%}",""])},427:function(t,e,i){t.exports={default:i(431),__esModule:!0}},431:function(t,e,i){i(436),t.exports=i(11).Number.isNaN},436:function(t,e,i){var a=i(15);a(a.S,"Number",{isNaN:function(t){return t!=t}})},454:function(t,e,i){var a=i(419);"string"==typeof a&&(a=[[t.i,a,""]]);i(225)(a,{});a.locals&&(t.exports=a.locals)}});